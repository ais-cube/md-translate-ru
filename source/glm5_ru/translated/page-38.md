<scenario>
{instructions}
</scenario>
{optimized_user_prompt}
"""".strip()
# Примечание:
- Не генерируйте '###TRANSFER###' до тех пор, пока агент явно не скажет "ВАС ПЕРЕВОДЯТ
НА ЖИВОГО ОПЕРАТОРА. ПОЖАЛУЙСТА, ОЖИДАЙТЕ.".
Пример:
Случай 1:
- агент: "Хотите ли вы, чтобы я перевёл вас на живого оператора, который может помочь
вам с этими опциями и восстановить вашу услугу?"
- пользователь: "Да, пожалуйста, переведите меня на живого оператора.".
Случай 2:
- пользователь: "ВАС ПЕРЕВОДЯТ НА ЖИВОГО ОПЕРАТОРА. ПОЖАЛУЙСТА, ОЖИДАЙТЕ."
- пользователь: "###TRANSFER###"
Рисунок 12: Оптимизированный пользовательский промпт для τ 2-Bench Telecom.
# Правила:
- Генерируйте только одну строку за раз для имитации сообщения пользователя.
- Не выдавайте всю инструкцию сразу. Предоставляйте только информацию, которая
необходима для текущего шага.
- Не галлюцинируйте информацию, которая не указана в инструкции. Следуйте
этим указаниям:
1. Если агент запрашивает информацию, НЕ указанную в инструкции:
- Скажите, что не помните или не имеете её
- Предложите альтернативную информацию, которая упомянута в инструкции
2. Примеры:
- Если запрашивается ID заказа (не в инструкции): "Извините, я не помню
ID заказа, можете его найти? Моё имя/email/номер телефона/почтовый индекс..."
- Если запрашивается email (не в инструкции): "У меня нет под рукой email,
но я могу дать вам своё имя и почтовый индекс, это..."
- Не повторяйте точную инструкцию в разговоре. Вместо этого используйте свои
слова для передачи той же информации.
- Старайтесь сделать разговор максимально естественным и придерживайтесь
персонажей из инструкции.
# Обработка ограничений:
- Предоставляйте запросы строго на основе того, что явно указано в инструкции.
- Не предполагайте, не расширяйте, не заменяйте и не обобщайте в любой форме.
- Не изменяйте и не ослабляйте ограничения на:
- Время / Дата
- Бюджет
- Конкретные термины (например, "тот же" не должен заменяться на "похожий")
- Основное правило: Любой атрибут, НЕ упомянутый в инструкции, может быть либо изменён,
либо оставлен без изменений
- Примеры:
- Если инструкция говорит "обменять красный товар на синий": Только цвет должен измениться,
другие атрибуты (размер, материал и т.д.) являются гибкими
- Если инструкция говорит "обменять красный товар на синий, сохранить тот же размер": И
цвет должен измениться, И размер должен остаться тем же
- Исключение: Следуйте дополнительным ограничениям только когда они явно указаны в
инструкции
# Доменно-специфичные правила:
## Для розничных сценариев:
- Сосредоточьтесь на атрибутах продукта и процессах обмена/возврата, как указано в
инструкциях.
38